<!DOCTYPE html>
<html>
<head>
  <title>Assign Driver</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body { font-family: Arial; padding: 20px; }
    .logo { height: 60px; margin-bottom: 20px; }
    .truck-assignment { margin-bottom: 20px; }
    input, select { margin-right: 10px; margin-bottom: 5px; padding: 5px; }
  </style>
</head>
<body>

  <img src="assets/company-logo.png" class="logo">

  <h2>Assign Drivers & Shift</h2>

  <form id="assignmentForm"></form>

  <button onclick="saveAssignments()">Done</button>

  <script>
    // Get selected trucks from previous page
    const selectedTrucks = JSON.parse(localStorage.getItem("selectedTrucks")) || [];
    const form = document.getElementById("assignmentForm");

    // Create input fields for each truck
    selectedTrucks.forEach(truck => {
      const div = document.createElement("div");
      div.className = "truck-assignment";
      div.innerHTML = `
        <strong>${truck}</strong><br>
        <input type="text" placeholder="Driver Name" required>
        <input type="text" placeholder="File Code" required>
        <select>
          <option>Morning</option>
          <option>Night</option>
          <option>Double Shift</option>
        </select>
      `;
      form.appendChild(div);
    });

    function saveAssignments() {
      const inputs = form.querySelectorAll("input, select");
      const assignments = [];

      for (let i = 0; i < inputs.length; i += 3) {
        assignments.push({
          truck: selectedTrucks[i / 3],
          driver: inputs[i].value,
          file: inputs[i + 1].value,
          shift: inputs[i + 2].value
        });
      }

      // Save data for report page
      localStorage.setItem("reportData", JSON.stringify(assignments));

      // Go to report page
      window.location.href = "report.html";
    }
  </script>

</body>
</html>
